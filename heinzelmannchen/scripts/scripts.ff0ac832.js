"use strict";angular.module("heinzelmannchen",["ngAnimate","ngCookies","ngResource","ngRoute","ngTouch","ngMaterial"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/login.html",controller:"LoginCtrl"}).when("/graph",{templateUrl:"views/heinz.html",controller:"HeinzCtrl",reloadOnSearch:!1}).when("/export",{templateUrl:"views/export.html",controller:"HeinzCtrl",reloadOnSearch:!1}).when("/token",{template:"<p>Accepting Token</p>",controller:"TokenReceiverCtrl"}).otherwise({redirectTo:"/"})}]).config(["$mdThemingProvider",function(a){var b=a.extendPalette("indigo",{500:"00254A"}),c=a.extendPalette("amber",{500:"FCB43B"});a.definePalette("cotivityBlue",b),a.definePalette("cotivityYellow",c),a.theme("default").primaryPalette("cotivityBlue").accentPalette("cotivityYellow")}]),angular.module("heinzelmannchen").controller("TokenReceiverCtrl",["$location","$routeParams",function(a,b){if(b.access_token){var c=b.access_token;localStorage.heinzAuth=c,a.search("access_token",null),a.search("scope",null),a.search("state",null),a.search("token_type",null),a.path("/graph")}}]),angular.module("heinzelmannchen").controller("HeinzCtrl",["$routeParams","$location","RepoData","HighlightData","$scope","$mdSidenav","defaultHighlightColor","defaultHighlightShape",function(a,b,c,d,e,f,g,h){function i(b,c,d){a[b]?"string"==typeof a[b]?c(a[b]):"[object Array]"===Object.prototype.toString.call(a[b])?_.each(a[b],function(a){c(a)}):alert("Your query paramerter contained unexpected data in param "+b+"."):d&&d()}i("repo",function(a){c.addRepoString(a)},function(){c.addRepoString("cotiviti/heinzelmannchen")}),i("hl",function(a){var b=a.split("$");d.silentAdd({id:Math.random(),searchKey:b[0],color:b.length>1?b[1]:g,shape:b.length>2?b[2]:h})}),e.toggleSideNav=function(){f("right").toggle()}}]),angular.module("heinzelmannchen").controller("LoginCtrl",["$scope","$location","GithubApi",function(a,b,c){a.authorize=c.redirectToAuth,localStorage.heinzAuth&&b.path("/graph")}]),angular.module("heinzelmannchen").service("GithubApi",["$http","IssueData","$window","authProxyUrl","$location",function(a,b,c,d,e){function f(){return localStorage.heinzAuth}function g(){var a=c.location.hash,b=a.indexOf("?"),e=b>0?a.substr(b):"";c.location.href=d+e}function h(){var a=f();a||g()}function i(a,b,c){var d=c?"&page="+c:"";return"https://api.github.com/repos/"+a+"/"+b+"/issues?per_page=100"+d}function j(c,d,e){h();var k=i(c,d,e);console.debug("loading: "+k),a.get(k,{headers:{Authorization:"token "+f()}}).then(function(a){b.add(a.data);var f=a.headers("link");f&&f.indexOf('rel="next"')>0&&j(c,d,(e||1)+1)},function(a){401===a.status?g():console.error(data)})}function k(){return h(),a.get("https://api.github.com/user",{headers:{Authorization:"token "+f()}})}return{loadIssues:j,user:k,redirectToAuth:g}}]),angular.module("heinzelmannchen").constant("graphConfig",{color:d3.scale.category20(),zoom:d3.behavior.zoom()}).constant("authProxyUrl","https://heinzelmannchen.herokuapp.com/get_code").constant("defaultHighlightColor","#64dd17").constant("defaultHighlightShape","c"),angular.module("heinzelmannchen").service("IssueData",["$rootScope","IssueSyntax",function(a,b){function c(){a.$broadcast("updateGraph")}function d(){return j}function e(){var a=b.processIssues(j);if(!k.milestone)return a;for(var c=k.milestone,d=_.filter(a.milestoneDependencies,function(a){return a.milestone===c}),e=_.pluck(d,"issue"),f=_.union(e,[]);0!==f.length;)_.map(f,function(b){var c=_.map(a.indicationDependencies,function(a){return a.source===b?[a.source,a.target]:void 0}),d=_.uniq(_.flatten(c)),g=_.compact(_.difference(d,e));e=_.union(e,d),f=g});var g=_.filter(a.userDependencies,function(a){return _.contains(e,a.issue)}),h=_.pluck(g,"user"),i={milestones:[],milestoneDependencies:[],issues:_.indexBy(_.filter(a.issues,function(a){return _.contains(e,a.id)}),"id"),userDependencies:g,indicationDependencies:_.filter(a.indicationDependencies,function(a){return _.contains(e,a.source)&&_.contains(e,a.target)}),users:_.indexBy(_.filter(_.values(a.users),function(a){return _.contains(h,a.id)}),"id")};return console.log(i),_.extend(i)}function f(a){for(var b=0;b<a.length;b++)j.push(a[b]);c()}function g(){j=[],c()}function h(a){j=_.reject(j,function(b){return b.url.indexOf(a.org+"/"+a.name)>=0}),c()}function i(a){k=a,c()}var j=[],k={};return{add:f,clear:g,get:d,removeIssuesForRepo:h,getFilteredModel:e,setFilter:i}}]),angular.module("heinzelmannchen").directive("dependencyGraph",["$rootScope","IssueData","IssueSyntax","graphConfig","HighlightData","InsightsData",function(a,b,c,d,e,f){return{template:"",restrict:"A",replace:!0,link:function(g,h,i){function j(){var a=d3.event.translate,b=d3.event.scale;n.attr("transform","translate("+a+") scale("+b+")")}function k(){d3.event.sourceEvent.stopPropagation()}function l(a){var b=document.getElementById("dependency-graph").clientWidth-10,d=document.getElementById("dependency-graph").parentNode.clientHeight-10;v.size([b,d]),m.attr("width",b).attr("height",d);var e=c.buildDependenciesGraph(a);v.nodes(e.nodes).links(e.links).start();var g=v.drag().origin(function(a){return a}).on("dragstart",k),h=u().data(e.users,function(a){return a.id});h.enter().append("pattern").attr("id",function(a){return"avatar_"+a.id}).attr("width","20").attr("height","20").attr("x",0).attr("y",0).attr("viewbox","0 0 20 20").append("svg:image").attr("xlink:href",function(a){return a.avatar_url}).attr("width",40).attr("height",40).attr("x",0).attr("y",0).attr("class","avatar"),h.exit().remove();var i=r().data(e.links);i.enter().append("line").attr("class","link").attr("marker-end",function(a){return"users"===a.target.type?"url(#endBig)":"url(#endDefault)"}),i.exit().remove();var j=s().data(e.nodes,function(a){return a.id});if(j.enter().append("circle").attr("class",function(a){var b="node";return b+=" "+a.type}).attr("number",function(a){return a.number}).attr("type",function(a){return a.type}).style("fill",function(a){return"users"===a.type?"url(#avatar_"+a.id+")":void 0}).attr("r",function(a){return"users"===a.type?20:10}).on("click",function(a,b){!d3.event.defaultPrevented&&a.html_url&&window.open(a.html_url,"_blank").focus()}).call(g),j.append("title").text(c.nodeLabel),j.exit().remove(),f.model.dependenciesShown){var l=t().data(e.nodes,function(a){return a.id});l.enter().append("text").filter(function(a){return a.incommingDependenciesCount}).attr("class","dependency-count").text(function(a){return a.incommingDependenciesCount}).style({fill:"#FFF","font-size":"10px"}),l.exit().remove()}else t().remove()}a.$on("updateGraph",function(){var a=b.getFilteredModel();l(a),e.reapplyHighlights()});var m=d3.select("#dependency-graph").append("svg").call(d.zoom.on("zoom",j)).on("dblclick.zoom",null),n=m.append("g").attr("id","graph-container"),o=n.append("g"),p=n.append("g");m.append("svg:defs").selectAll("marker").data([["endBig",45],["endDefault",28]]).enter().append("svg:marker").attr("id",function(a){return a[0]}).attr("viewBox","0 -5 10 10").attr("refX",function(a){return a[1]}).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5");var q=m.append("svg:defs"),r=function(){return o.selectAll(".link")},s=function(){return p.selectAll(".node")},t=function(){return p.selectAll(".dependency-count")},u=function(){return q.selectAll(".avatar")},v=d3.layout.force().charge(-300).linkDistance(80).on("tick",function(){r().attr("x1",function(a){return a.source.x}).attr("y1",function(a){return a.source.y}).attr("x2",function(a){return a.target.x}).attr("y2",function(a){return a.target.y}),s().attr("cx",function(a){return a.x}).attr("cy",function(a){return a.y}),t().attr("x",function(a){return a.x-3}).attr("y",function(a){return a.y+3})})}}}]),angular.module("heinzelmannchen").service("IssueSyntax",function(){function a(a){var b={},c={},e=[],f=[],g=[];return _.each(a,function(h){h.milestone&&(b[h.milestone.id]||(b[h.milestone.id]=h.milestone),e.push({milestone:h.milestone.id,issue:h.id})),h.assignee&&(c[h.assignee.id]||(c[h.assignee.id]=h.assignee),f.push({user:h.assignee.id,issue:h.id}));var i=d(h).map(function(b){return _.find(a,function(a){return a.html_url==b})||b});_.each(i,function(a){a.id&&g.push({source:h.id,target:a.id})})}),{issues:_.indexBy(a,"id"),users:c,milestones:b,milestoneDependencies:e,userDependencies:f,indicationDependencies:g}}function b(a,b,c){for(var d,e=/\* \[ \] (\#|https:\/\/github\.com\/(.*)\/(.*)\/issues\/)(\d+).*/g,f=[];d=e.exec(a);){var g=d[4],h=d[2]||b,i=d[3]||c;f.push("https://github.com/"+h+"/"+i+"/issues/"+g)}return f}function c(a){var b=/https:\/\/github\.com\/(.*)\/(.*)\/(issues|pull)\/\d+.*/g,c=b.exec(a),d="???",e="???";if(c)var d=c[1],e=c[2];return{org:d,repo:e}}function d(a){if(!a.body)return[];var d=c(a.html_url),e=d.org,f=d.repo,g=a.body.indexOf("# Dependencies");if(0>g)return[];var h=a.body.substring(g);return b(h,e,f)}function e(a){if(a.heinzTitle)return a.heinzTitle;var b=void 0;return"users"===a.type?b=a.login:"issues"===a.type?b=c(a.html_url).repo+"#"+a.number+" - "+a.title:"milestones"===a.type&&(b="M - "+a.title),a.heinzTitle=b,b}function f(a){function b(b){return _.map(_.values(a[b]),function(a){return a.type=b,a})}var c=b("users"),d=b("issues"),e=b("milestones"),f=_.union(c,d,e),g=[],h={};for(_.each(a.milestoneDependencies,function(b){g.push({source:a.milestones[b.milestone],target:a.issues[b.issue]})}),_.each(a.userDependencies,function(b){g.push({source:a.issues[b.issue],target:a.users[b.user]})}),_.each(a.indicationDependencies,function(b){var c=a.issues[b.source],d=a.issues[b.target];d.incomming||(d.incomming=[]),d.incomming.push(b.source),c.outgoing||(c.outgoing=[]),c.outgoing.push(b.target),d.incommingDependencies||(d.incommingDependencies={}),d.incommingDependencies[b.source]=!0,h[b.target]=!0,g.push({source:c,target:d})});!_.isEmpty(h);){var i={};_.each(_.keys(h),function(b){var c=a.issues[b],d=c.incommingDependencies;_.each(c.incomming,function(b){var c=a.issues[b];_.extendOwn(d,c.incommingDependencies)});_.keys(c.incommingDependencies).length!==_.keys(d).length&&(c.incommingDependencies=c.newTransitiveDependencies,c.outgoing&&_.each(c.outgoing,function(a){i[a]=!0}))}),h=i}return _.each(a.issues,function(a){a.incommingDependencies&&(a.incommingDependenciesCount=_.keys(a.incommingDependencies).length,delete a.incommingDependencies),delete a.incomming,delete a.outgoing}),{nodes:f,links:g,users:c}}return{processIssues:a,parseIssueUrl:c,nodeLabel:e,buildDependenciesGraph:f}}),angular.module("heinzelmannchen").directive("issueHighlight",["GraphApi","$mdToast","HighlightData","defaultHighlightColor","defaultHighlightShape",function(a,b,c,d,e){return{templateUrl:"views/issuehighlight.html",restrict:"E",link:function(a,f,g){function h(a){b.show(b.simple().textContent(a).position("top right").hideDelay(2e3))}a.highlightModel={terms:c.get()},a.searchByTerm=function(){var b={id:Math.random(),searchKey:a.highlightModel.search,color:d,shape:e},f=c.add(b);f.ok?(a.highlightModel.terms=c.get(),a.highlightModel.search=""):h(f.error)},a.removeTermAtIndex=function(b){a.highlightModel.terms.splice(b,1),c.reapplyHighlights()},a.updateHighlight=function(){c.reapplyHighlights()},a.shapeIcon=function(a){var b={c:"circle",o:"outline",h:"hidden"};return b[a]},a.toggleShape=function(b){var d=["c","o","h"],e=a.highlightModel.terms[b],f=(d.indexOf(e.shape)+1)%d.length;e.shape=d[f],c.reapplyHighlights()}}}}]),angular.module("heinzelmannchen").directive("onEnter",function(){return function(a,b,c){b.bind("keydown keypress",function(b){13===b.which&&(a.$apply(function(){a.$eval(c.onEnter)}),b.preventDefault())})}}),angular.module("heinzelmannchen").directive("resizeWatcher",["$rootScope","$window",function(a,b){return{restrict:"A",link:function(c,d,e){var f=b.innerWidth,g=b.innerHeight;angular.element(b).bind("resize",function(){(f!==b.innerWidth||g!==b.innerHeight)&&a.$broadcast("updateGraph"),f=b.innerWidth,g=b.innerHeight})}}}]),angular.module("heinzelmannchen").directive("userinfo",["GithubApi","$location",function(a,b){return{template:'<div class="user-info" layout="column" layout-align="center center"><div><img class="md-whiteframe-3dp" ng-src="{{user.avatar_url}}"/></div><div><h4>{{user.name || user.login}}</h4></div><div id="logout" ng-click="logout()">logout</div></div>',restrict:"E",link:function(c,d,e){c.userModel={},a.user().then(function(a){c.user=a.data}),c.logout=function(){localStorage.removeItem("heinzAuth"),b.url("/")}}}}]),angular.module("heinzelmannchen").service("RepoData",["$rootScope","GithubApi","$location","IssueData",function(a,b,c,d){function e(){var a=_.map(f(),function(a){return a.org+"/"+a.name});c.search("repo",a)}function f(){return k}function g(a){b.loadIssues(a.org,a.name),k.push(a),e()}function h(a){var b=a.replace(/ /g,"").split("/");if(2===b.length){var c={org:b[0],name:b[1]};g(c)}else alert('Please provide the repo information in the form of "org/repo".'),console.error("invalid repo string: "+a)}function i(){k=[],d.clear(),e()}function j(a){k=_.reject(k,function(b){return b.name===a.name&&b.org===a.org}),d.removeIssuesForRepo(a),e()}var k=[];return{add:g,addRepoString:h,clear:i,get:f,remove:j}}]),angular.module("heinzelmannchen").directive("repoList",["RepoData","$rootScope",function(a,b){return{templateUrl:"views/repolist.html",restrict:"E",link:function(b,c,d){b.repoModel={repos:a.get()},b.addRepo=function(c){a.addRepoString(c),b.repoModel.search=""},b.resetRepos=function(){a.clear(),b.repoModel.repos=a.get()},b.removeRepoAtIndex=function(c){var d=b.repoModel.repos[c];a.remove(d),b.repoModel.repos=a.get()}}}}]),angular.module("heinzelmannchen").service("GraphApi",["QueryDSL",function(a){function b(){d3.selectAll("circle.searched").style("fill",null).style("stroke",null).style("stroke-width",null),d3.selectAll("circle").classed("pulse",!1).classed("searched",!1)}function c(b){if("h"==b.shape)return!0;var c=b.searchKey,h=[];return a.isIntegerSearch(c)?h=d(b):a.isRepoIssueSearch(c)?h=e(a.getRepoAndIssueNumber(c)):a.isLabelSearch(c)?h=f(c.substr(c.indexOf(":")+1)):a.isTimestampSearch(c)&&(h=g(c.substr(0,c.indexOf(":")),c.substr(c.indexOf(":")+1))),h.length>0&&h[0].length>0?(h.classed("searched",!0),"o"==b.shape?(h.style("stroke",b.color),h.style("stroke-width","4px")):"c"==b.shape&&h.style("fill",b.color),!0):(console.debug("No node found for search: "+c),!1)}function d(a){return d3.selectAll('circle.issues[number="'+a.searchKey+'"]')}function e(a){return d3.selectAll('circle.issues[number="'+a.issue+'"]').filter(function(b){return b.url.indexOf(a.repo)>=0})}function f(a){return d3.selectAll("circle.issues").filter(function(b){return _.some(b.labels,function(b){return b.name.toLowerCase()==a.toLowerCase()})})}function g(b,c){var d=a.toPeriodMillis(c),e=(new Date).getTime();return d3.selectAll("circle.issues").filter(function(a){var c=new Date(a[b+"_at"]).getTime();return a[b+"_at"]&&d>e-c})}function h(){d3.selectAll("circle.pulse").classed("pulse",!1)}return{clearAllHighlights:b,highlightTermMatch:c,clearAllPulse:h}}]),angular.module("heinzelmannchen").service("HighlightData",["$rootScope","GraphApi","$location",function(a,b,c){function d(){c.search("hl",_.map(j,function(a){var b=a.searchKey;return b+=a.color?"$"+a.color:"",b+=a.shape?"$"+a.shape:""}))}function e(){return j}function f(a){j.push(a)}function g(a){if(b.clearAllPulse(),_.contains(j,a))return{error:"Issue already highlighted."};var c=b.highlightTermMatch(a);return c?(j.push(a),d(),{ok:!0}):{error:"No match found."}}function h(){j=[],b.clearAllHighlights()}function i(){d(),b.clearAllHighlights(),_.each(j,function(a){b.highlightTermMatch(a)})}var j=[];return{add:g,silentAdd:f,clear:h,reapplyHighlights:i,get:e}}]),angular.module("heinzelmannchen").directive("colorPicker",function(){return{templateUrl:"views/colorpicker.html",restrict:"E",scope:{color:"=",onColorChange:"="},link:function(a,b,c){var d=["#64dd17","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477"],e=document.createElement("input");e.setAttribute("type","color"),a.supportsColorInput="color"===e.type,a.toggleColor=function(){if(!a.supportsColorInput){var b=d.indexOf(a.color),c=((b>=0?b:0)+1)%d.length;a.color=d[c],onColorChange()}}}}}),angular.module("heinzelmannchen").service("QueryDSL",function(){function a(a){return Math.round(a)===parseInt(a,10)}function b(a){return a.match(/^(\w+)\#([0-9]+)$/)}function c(a){var c=b(a);return c&&3===c.length}function d(a){if(c(a)){var d=b(a);return{repo:d[1],issue:parseInt(d[2],10)}}}function e(a){return 0===a.indexOf("label:")}function f(a){return 0===a.indexOf("created:")||0===a.indexOf("updated:")}function g(a){var b=a.match(/([0-9]+)\s?(s|sec|second|m|min|minute|h|hour|d|day|w|week)?s?$/);if(!b||3!==b.length)return console.debug("Unrecognized format in :"+a),console.debug(b),-1;var c=b[1];switch(b[2]){case"w":case"week":c*=7;case"d":case"day":c*=24;case"h":case"hour":c*=60;case"m":case"min":case"minute":c*=60;case"s":case"sec":case"second":return 1e3*c;default:return-1}}return{isIntegerSearch:a,isRepoIssueSearch:c,isLabelSearch:e,isTimestampSearch:f,toPeriodMillis:g,getRepoAndIssueNumber:d}}),angular.module("heinzelmannchen").directive("issueInsights",["InsightsData","$rootScope",function(a,b){return{templateUrl:"views/issueinsights.html",restrict:"E",link:function(c,d,e){c.insightsModel={dependenciesShown:!0},a.model.dependenciesShown=!0,c.toggleDependencyCounts=function(){c.insightsModel.dependenciesShown=!c.insightsModel.dependenciesShown,a.model.dependenciesShown=c.insightsModel.dependenciesShown,b.$broadcast("updateGraph")}}}}]),angular.module("heinzelmannchen").service("InsightsData",function(){var a={};return{model:a}}),angular.module("heinzelmannchen").directive("issueTable",["$rootScope","IssueData",function(a,b){return{templateUrl:"views/issuetable.html",restrict:"E",link:function(c,d,e){a.$on("updateGraph",function(){var a=b.get(),d=_.uniq(_.pluck(a,"milestone"));c.indexedMilestones=_.indexBy(d,"id"),c.issuesByMilestone=_.groupBy(a,function(a){return a.milestone?a.milestone.id:-1})})}}}]),angular.module("heinzelmannchen").directive("issueFilter",["$rootScope","IssueSyntax","IssueData",function(a,b,c){return{templateUrl:"views/issuefilter.html",restrict:"E",link:function(d){d.filterOptions={milestones:[]},d.filterModel={milestone:null},a.$on("updateGraph",function(){d.filterOptions.milestones=_.values(b.processIssues(c.get()).milestones)}),d.filterChanged=function(){c.setFilter(d.filterModel)}}}}]),angular.module("heinzelmannchen").run(["$templateCache",function(a){a.put("views/colorpicker.html",'<div style="display: block; width: 24px; height: 24px; overflow: hidden"> <md-icon class="color-toggle" aria-label="color pick" md-svg-icon="images/icons/colors.svg" ng-style="{\'fill\': color}" ng-click="toggleColor()"></md-icon> <input id="fake-color" ng-show="supportsColorInput" type="color" ng-model="color" style="opacity: 0; filter:alpha(opacity: 0);  position: relative; top: -24px; left: -24px" ng-change="onColorChange()"> </div>'),a.put("views/export.html",'<h2> <span>Heinzelmannchen Project Export</span> </h2> <section id="issue-visualization" class="print-width" layout="row"> <md-content flex> <div id="dependency-graph" dependency-graph resize-watcher></div> </md-content> </section> <section id="issue-list" class="print-width" layout="row"> <issue-table></issue-table> </section>'),a.put("views/heinz.html",'<md-toolbar class="md-whiteframe-3dp" id="tool-bar"> <div class="md-toolbar-tools"> <h2> <span>Project Heinzelmannchen</span> </h2> <span flex></span> <md-button class="md-icon-button" aria-label="Settings" hide-gt-md ng-click="toggleSideNav()"> <md-icon md-svg-icon="images/icons/settings.svg"></md-icon> </md-button> </div> </md-toolbar> <section id="issue-visualization" layout="row" flex> <md-content flex> <div id="dependency-graph" dependency-graph resize-watcher></div> </md-content> <md-sidenav class="md-sidenav-right md-whiteframe-z2" md-component-id="right" md-is-locked-open="$mdMedia(\'gt-md\')" layout="column"> <md-content flex layout="column"> <div class="side-nav-container" flex> <repo-list></repo-list> <issue-highlight></issue-highlight> <issue-insights></issue-insights> <issue-filter></issue-filter> </div> <userinfo></userinfo> </md-content> </md-sidenav> </section>'),a.put("views/issuefilter.html",'<div> <h3>Filter</h3> <md-input-container> <label>Milestone</label> <md-select ng-model="filterModel.milestone" ng-change="filterChanged()"> <md-option ng-value="null">All</md-option> <md-option ng-repeat="milestone in filterOptions.milestones" ng-value="milestone.id"> {{milestone.title}} </md-option> </md-select> </md-input-container> </div>'),a.put("views/issuehighlight.html",'<div> <h3>Highlight</h3> <input ng-model="highlightModel.search" placeholder="e.g. Issue Number" on-enter="searchByTerm()"> <md-list ng-if="highlightModel.terms.length > 0"> <md-list-item ng-repeat="term in highlightModel.terms" layout="row"> <p flex>{{term.searchKey}}</p> <color-picker color="term.color" on-color-change="updateHighlight($index)"></color-picker> <md-icon class="remove-repo" ng-click="toggleShape($index)" aria-label="shape change" md-svg-icon="{{\'images/icons/\' + shapeIcon(term.shape) + \'.svg\'}}" style="color: black"></md-icon> <md-icon class="remove-repo" ng-click="removeTermAtIndex($index)" aria-label="remove highlight" md-svg-icon="images/icons/delete.svg" style="color: black"></md-icon> </md-list-item> </md-list> </div>'),a.put("views/issueinsights.html",'<div> <h3>Insights</h3> <md-list> <md-list-item layout="row"> <p flex>Dependency Counts</p> <md-icon class="remove-repo" ng-click="toggleDependencyCounts()" aria-label="show/hide dependencies" md-svg-icon="{{ insightsModel.dependenciesShown ? \'images/icons/visible.svg\' : \'images/icons/hidden.svg\'}}" style="color: black"></md-icon> </md-list-item> </md-list> </div>'),a.put("views/issuetable.html",'<div ng-repeat="(milestoneId, issues) in issuesByMilestone"> <h4 ng-if="milestoneId >= 0">Issues for Milestone {{indexedMilestones[milestoneId].number}} ({{indexedMilestones[milestoneId].title}})</h4> <h4 ng-if="milestoneId < 0">Issues without Milestone</h4> <table> <thead> <tr> <td>#</td> <td>Status</td> <td>Title</td> </tr> </thead> <tbody> <tr ng-repeat="issue in issues | orderBy: \'number\'"> <td>{{issue.number}}</td> <td>{{issue.state}}</td> <td>{{issue.title}}</td> </tr> </tbody> </table> </div>'),a.put("views/login.html",'<div flex id="layout-wrapper" layout="column" layout-align="center center"> <md-whiteframe class="md-whiteframe-2dp" layout-padding> <md-content> <h2>Project Heinzelmannchen</h2> <p>Project Heinzelmannchen is a new approach for managing risk in complex research and development activities by displaying the individual taks and their interdependencies in graph structure.</p> <p> Login with your GitHub credentials and try it yourself. </p> <a><md-button class="md-primary md-raised" ng-click="authorize()">Authorize on GitHub</md-button></a> </md-content> </md-whiteframe> </div>'),a.put("views/repolist.html",'<div> <h3>Repositories</h3> <md-content> <input ng-model="repoModel.search" placeholder="org/repo" on-enter="addRepo(repoModel.search)"> <md-list> <md-list-item ng-repeat="repo in repoModel.repos" layout="row"> <!-- <md-checkbox ng-model="message.selected"></md-checkbox> --> <p flex>{{repo.org}} / {{repo.name}}</p> <md-icon class="remove-repo" ng-click="removeRepoAtIndex($index)" aria-label="remove repo" md-svg-icon="images/icons/delete.svg" style="color: black"></md-icon> </md-list-item> </md-list> </md-content> </div>')}]);